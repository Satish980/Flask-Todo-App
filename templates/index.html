{% extends 'base.html' %}

{% block head %}

<title>Task Master</title>

{% endblock %}

{% block body %}
<script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
<div class="card">
    

    {% if tasks|length < 1 %}
        <div class="card bg-light">
            <div class="card-header text-center text-white bg-primary"><b>Task Manager</b></div><br>
                <h4 style="text-align: center;">There are no tasks, Create new one below</h4>
            </div>
        </div>
    {% else %}
   <div class="card bg-light">
    <div class="card-header text-center text-white bg-primary"><b>Task Manager</b></div>
    <div class="card-body">
        <table class="table table-borderless table-hover">
        <tr>
            <th>Task</th>
            <th>Added Date</th>
            <th>Actions</th>
        </tr>
        {% for task in tasks %}
            <tr>
                <td>{{ task.content }}</td>
                <td>{{ task.date_created.date() }}</td>
                <td>
                    <a href="/delete/{{task.id}}" title="Delete"><button class="btn btn-warning" type="submit"><i class='fas fa-trash-alt'></i></button></a>
                    <a href="/update/{{task.id}}" title="Edit"><button class="btn btn-info"><i class='fas fa-edit'></i></button></a>
                </td>
            </tr>
        {% endfor %}
    </table>
</div>
</div>    
    {% endif %}

   <div class="card bg-light">
            <form action="/" method="POST" class="col-xs-4">
                <input type="text" name="content" id = "content" class="form-control" placeholder="Enter A Task">
                <input type="submit" value="Add Task" class="btn btn-success">
            </form>
   </div>
</div>

{% endblock %}